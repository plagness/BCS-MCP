# --- BCS auth ---
BCS_REFRESH_TOKEN=
# trade-api-read или trade-api-write
BCS_CLIENT_ID=trade-api-read
BCS_ALLOW_WRITE=0

# --- Streams & instruments ---
# Формат: CLASS:Ticker, например TQBR:SBER
BCS_SUBSCRIBE_INSTRUMENTS=TQBR:SBER
# Если 1 — берём инструменты из таблицы bcs_private.selected_assets
BCS_USE_DB_INSTRUMENTS=0

# Что собирать (1/0)
BCS_STREAM_MARKET=1
BCS_STREAM_PORTFOLIO=0
BCS_STREAM_ORDERS=0
BCS_STREAM_LIMITS=0
BCS_STREAM_MARGINAL=0

BCS_STORE_ORDERBOOK=1
BCS_STORE_QUOTES=1
BCS_STORE_LAST_TRADES=1
BCS_STORE_CANDLES=1
BCS_CANDLE_TIMEFRAME=M1

# --- База данных ---
# Для docker compose используйте имя сервиса: bcsdb
# Для локального запуска без Docker: 127.0.0.1
BCS_DB_HOST=bcsdb
BCS_DB_PORT=5432
BCS_DB_USER=bcs
BCS_DB_PASSWORD=bcs_secret
BCS_DB_MARKET=bcs_market
BCS_DB_PRIVATE=bcs_private

# --- MCP ---
# В compose внешний порт публикуется как 3332, внутри контейнера сервис слушает 3333.
MCP_TRANSPORT=sse
MCP_PORT=3333
MCP_HOST=0.0.0.0
MCP_HTTP_TOKEN=

# --- LLM backend routing (default: llm-mcp, fallback: Ollama) ---
LLM_BACKEND=llm_mcp
LLM_MCP_BASE_URL=http://llmcore:8080
LLM_MCP_PROVIDER=auto
LLM_BACKEND_FALLBACK_OLLAMA=1
LLM_BACKEND_TIMEOUT_SEC=30

# --- Embeddings / Ollama ---
OLLAMA_BASE_URL=http://127.0.0.1:11434
OLLAMA_EMBED_MODEL=nomic-embed-text
EMBEDDING_DIM=768

# --- Прочее ---
# LOG_LEVEL=debug включает подробное логирование всех действий
LOG_LEVEL=info
