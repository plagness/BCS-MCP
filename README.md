# BCS-MCP

[![Version](https://img.shields.io/badge/version-2026.02.3-blue.svg)](VERSION)
[![Runtime](https://img.shields.io/badge/runtime-node%20%2B%20python-green.svg)](Dockerfile)
[![Database](https://img.shields.io/badge/database-postgres%20%2B%20pgvector-orange.svg)](compose.yml)
[![MCP](https://img.shields.io/badge/mcp-enabled-7a3cff.svg)](server/src/index.ts)

–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π MCP-—Å–µ—Ä–≤–∏—Å –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ **BCS Trade API** —Å LLM.

–°–µ—Ä–≤–∏—Å —Å–æ–±–∏—Ä–∞–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–µ –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ PostgreSQL/pgvector –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ MCP.

[![Quick Start](https://img.shields.io/badge/Quick%20Start-Open-1f6feb?style=for-the-badge)](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
[![API Map](https://img.shields.io/badge/API%20Coverage-Open-1f6feb?style=for-the-badge)](docs/bcs_api_reference.md)
[![Changelog](https://img.shields.io/badge/Changelog-Open-1f6feb?style=for-the-badge)](CHANGELOG.md)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìà –î–∞–Ω–Ω—ã–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –†—ã–Ω–æ—á–Ω—ã–µ –ø–æ—Ç–æ–∫–∏: –∫–æ—Ç–∏—Ä–æ–≤–∫–∏, —Å—Ç–∞–∫–∞–Ω, —Å–¥–µ–ª–∫–∏, —Å–≤–µ—á–∏.
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –ø–æ—Ä—Ç—Ñ–µ–ª—å, –∑–∞—è–≤–∫–∏, —Å–¥–µ–ª–∫–∏, –ª–∏–º–∏—Ç—ã.
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å—Ö–µ–º–∞–º:
  - `bcs_market` ‚Äî —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ;
  - `bcs_private` ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

### üß† LLM-ready —Å–ª–æ–π
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ embeddings (Ollama).
- –õ–æ–≥–∏ —Ä–µ—à–µ–Ω–∏–π –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.
- Local-first –ø–æ–¥—Ö–æ–¥: –º–∞–∫—Å–∏–º—É–º –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ë–î/—Å–∫—Ä–∏–ø—Ç–æ–≤, –º–∏–Ω–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ LLM.

### üßÆ –°–∫—Ä–∏–ø—Ç—ã –∏ —Å–∏–≥–Ω–∞–ª—ã
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã (`SMA/EMA/RSI`, –∫–æ–º–∏—Å—Å–∏–∏, —Å–µ—Å—Å–∏–∏, —Ä–∏—Å–∫).
- –ö–∞—Ç–∞–ª–æ–≥ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤ –±–µ–∑ –≤—ã–≤–æ–¥–∞ —Å—ã—Ä—ã—Ö —Ä—è–¥–æ–≤ –≤ LLM.

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- `server/` ‚Äî Node.js MCP server (tools + HTTP endpoints)
- `worker/` ‚Äî Python ingestion/streams/embeddings
- `db/init/` ‚Äî SQL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Å—Ö–µ–º—ã

–û–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (`Dockerfile`) —Å–æ–¥–µ—Ä–∂–∏—Ç server + worker.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
cd bcs-mcp
cp .env.example .env
# –∑–∞–ø–æ–ª–Ω–∏—Ç–µ BCS_REFRESH_TOKEN

docker compose -f compose.yml up -d
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
curl http://127.0.0.1:3332/health
curl http://127.0.0.1:3332/tools
```

## üîß –ö–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `BCS_REFRESH_TOKEN` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π refresh-token
- `BCS_CLIENT_ID` ‚Äî `trade-api-read` –∏–ª–∏ `trade-api-write`
- `BCS_ALLOW_WRITE` ‚Äî –≤–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- `BCS_DB_HOST` ‚Äî –≤ compose: `bcsdb`
- `BCS_DB_PORT` ‚Äî –≤ compose –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏: `5432`
- `MCP_PORT` ‚Äî –ø–æ—Ä—Ç MCP –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (`3333`), –Ω–∞—Ä—É–∂—É –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω `3332`
- `OLLAMA_EMBED_MODEL` ‚Äî –º–æ–¥–µ–ª—å embeddings

## üß∞ MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–≥—Ä—É–ø–ø—ã)

- `market.*` ‚Äî –≤—ã–±–æ—Ä–∫–∏, latest, aggregate, snapshot, compute
- `private.*` ‚Äî –ø–æ—Ä—Ç—Ñ–µ–ª—å/—Å–¥–µ–ª–∫–∏/PnL/—Ä–µ—à–µ–Ω–∏—è
- `selected_assets.*` ‚Äî watchlist
- `embedding.*` ‚Äî –æ—á–µ—Ä–µ–¥—å –∏ –ø–æ–∏—Å–∫
- `scripts.*`, `signals.run` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã
- `bcs.*` ‚Äî –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã BCS REST

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `docs/bcs_api_reference.md` ‚Äî –∫–∞—Ä—Ç–∞ API –∏ MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `CHANGELOG.md` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `VERSION` ‚Äî —Ç–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –º–æ–¥—É–ª—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```text
bcs-mcp/
‚îú‚îÄ‚îÄ server/
‚îú‚îÄ‚îÄ worker/
‚îú‚îÄ‚îÄ scripts/
‚îú‚îÄ‚îÄ db/init/
‚îú‚îÄ‚îÄ compose.yml
‚îî‚îÄ‚îÄ Dockerfile
```

## üß≠ Public Git Standards

- –í–µ—Ä—Å–∏—è –≤ `VERSION` —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `YYYY.MM.x`.
- –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ `CHANGELOG.md`.
- –°–µ–∫—Ä–µ—Ç—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ git: —Ç–æ–ª—å–∫–æ `.env.example`, —Ä–∞–±–æ—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º `.env`.
- –ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è `docker compose config` –∏ –±–∞–∑–æ–≤—ã–π smoke (`/health`, `/tools`).

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –¢–æ—Ä–≥–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `BCS_ALLOW_WRITE=1`.
- –î–ª—è HTTP MCP –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å `MCP_HTTP_TOKEN`.
- –†–µ–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º `.env`.
